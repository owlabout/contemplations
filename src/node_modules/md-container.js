const markdownContainer = require("markdown-it-container");

export default function mdSticky(md) {
  md.use(markdownContainer, "hero", {
    render(tokens, idx) {
      const info = tokens[idx].info;
      const color = info.replace(/^hero(.*)$/, `$1`).trim();
      if (tokens[idx].nesting === 1) {
        return `<div class="hero__container" ${
          color ? ` style='--color-hero: ${color};'` : ""
        }>`;
      } else {
        return "</div>";
      }
    }
  });

  md.use(markdownContainer, "tip", {
    render(tokens, idx) {
      if (tokens[idx].nesting === 1) {
        return `<div class="tip__container">`;
      } else {
        return "</div>";
      }
    }
  });
}
