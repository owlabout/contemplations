import{_ as t,a,b as n,c as s,i as o,s as c,d as e,S as r,e as i,f as u,g as f,j as p,q as l,k as d,o as h,n as m,t as g,p as k,h as v,J as y,M as b,l as $,v as x,y as E,z as j,A as L,L as _}from"./index.c522fbb9.js";import{_ as A,a as D,F as M,l as V}from"./_layout.252e8209.js";function w(t){var a,n;return{c:function(){a=i("meta"),this.h()},l:function(t){a=u(t,"META",{name:!0,content:!0},!1),f(a).forEach(p),this.h()},h:function(){l(a,"name","Description"),l(a,"content",n=t.post.metadata.description)},m:function(t,n){d(t,a,n)},p:function(t,s){t.post&&n!==(n=s.post.metadata.description)&&l(a,"content",n)},d:function(t){t&&p(a)}}}function I(t){var a,n,s,o,c,e,r,_,A,D,V,I,T,q=t.post.html+"";document.title=a=t.post.title;var B=t.post.metadata.description&&w(t),H=new M({});return{c:function(){B&&B.c(),n=h(),s=m(),o=i("div"),c=m(),e=i("nav"),r=i("a"),_=g("Back"),A=m(),D=i("div"),V=m(),I=i("div"),H.$$.fragment.c(),this.h()},l:function(t){B&&B.l(t),n=h(),s=k(t),o=u(t,"DIV",{class:!0,style:!0},!1),f(o).forEach(p),c=k(t),e=u(t,"NAV",{},!1);var a=f(e);r=u(a,"A",{href:!0},!1);var i=f(r);_=v(i,"Back"),i.forEach(p),a.forEach(p),A=k(t),D=u(t,"DIV",{class:!0},!1),f(D).forEach(p),V=k(t),I=u(t,"DIV",{class:!0},!1);var l=f(I);H.$$.fragment.l(l),l.forEach(p),this.h()},h:function(){l(o,"class","background"),y(o,"--background-image","url("+t.post.metadata.background+")"),y(o,"--background-color-left",t.post.metadata.colorLeft),y(o,"--background-color-right",t.post.metadata.colorRight),l(r,"href","/"),l(D,"class","post-container"),b(D,"has-sticky",t.sticky),l(I,"class","footer-container svelte-8fy71")},m:function(t,a){B&&B.m(document.head,null),$(document.head,n),d(t,s,a),d(t,o,a),d(t,c,a),d(t,e,a),$(e,r),$(r,_),d(t,A,a),d(t,D,a),D.innerHTML=q,d(t,V,a),d(t,I,a),x(H,I,null),T=!0},p:function(t,s){T&&!t.post||a===(a=s.post.title)||(document.title=a),s.post.metadata.description?B?B.p(t,s):((B=w(s)).c(),B.m(n.parentNode,n)):B&&(B.d(1),B=null),T&&!t.post||(y(o,"--background-image","url("+s.post.metadata.background+")"),y(o,"--background-color-left",s.post.metadata.colorLeft),y(o,"--background-color-right",s.post.metadata.colorRight)),T&&!t.post||q===(q=s.post.html+"")||(D.innerHTML=q),t.sticky&&b(D,"has-sticky",s.sticky)},i:function(t){T||(E(H.$$.fragment,t),T=!0)},o:function(t){j(H.$$.fragment,t),T=!1},d:function(t){B&&B.d(t),p(n),t&&(p(s),p(o),p(c),p(e),p(A),p(D),p(V),p(I)),L(H)}}}function T(t){return q.apply(this,arguments)}function q(){return(q=A(D.mark(function t(a){var n,s,o,c,e,r;return D.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.params,a.query,s=n.year,o=n.month,c=n.slug,t.next=4,this.fetch("posts/".concat(s,"/").concat(o,"/").concat(c,".json"));case 4:return e=t.sent,t.next=7,e.json();case 7:if(r=t.sent,200!==e.status){t.next=12;break}return t.abrupt("return",{post:r});case 12:this.error(e.status,r.message);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function B(t,a,n){var s,o=a.post;return _(function(){V.set(o.metadata.lang)}),t.$set=function(t){"post"in t&&n("post",o=t.post)},t.$$.update=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:1}).post&&n("sticky",s=o.html.indexOf("sticky__container")>0)},{post:o,sticky:s}}export default(function(i){function u(t){var r;return a(this,u),r=n(this,s(u).call(this)),o(e(r),t,B,I,c,["post"]),r}return t(u,r),u}());export{T as preload};
